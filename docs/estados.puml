
@startuml SADFI_Estados_Sprint2_Linear

title SAD-FI – Diagrama de Estados (Sprint 2, fluxo linear)

skinparam defaultFontName Arial
skinparam shadowing false
skinparam state {
  RoundCorner 18
  FontSize 12
  BackgroundColor #FFFFFF
  BorderColor #333333
}

[*] --> EntradaDeDados : Início

state EntradaDeDados {
  note right
    Usuário informa dados mínimos:
    • Sistema (SAC ou SAC_IPCA)
    • Valor do imóvel, entrada, prazo
    • Taxa anual (SAC) ou caminho IPCA (SAC_IPCA)
  end note
}

EntradaDeDados --> ValidarEntradas : Simular

state ValidarEntradas

ValidarEntradas --> EscolherModalidade : dados válidos
ValidarEntradas --> ErroDeValidacao : dados inválidos

ErroDeValidacao --> EntradaDeDados : Corrigir e tentar novamente

state EscolherModalidade {
  SAC : Modalidade SAC
  SAC_IPCA : Modalidade SAC_IPCA
}

EscolherModalidade --> Simular : SAC ou SAC_IPCA

state Simular {
  note right
    Calcula cronograma conforme a modalidade escolhida
  end note
}

Simular --> Resultado : Exibir resultados

state Resultado {
  Resumo : Ver resumo
  Grafico : Ver gráfico
  ExportarCSV : Exportar CSV
}

Resultado --> EntradaDeDados : Nova simulação
Resultado --> [*] : Fim

@enduml
